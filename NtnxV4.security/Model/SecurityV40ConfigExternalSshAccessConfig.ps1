#
# Nutanix Security APIs
# Manage security features, such as encryption, certificates, or platform hardening.
# Version: 4.0.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

Ssh access config of a particular clusters.

.PARAMETER IsSshEnabled
Indicates if Ssh is currently enabled on the cluster.
.PARAMETER SshExpiryTime
Time when the Ssh will be disabled if Ssh is already enabled.
.PARAMETER SshlastEnabledTime
Timestamp when Ssh was last enabled.
.PARAMETER SshEnableDurationHours
Duration in Hours for which Ssh should be enabled. Default is 1 hour.
.OUTPUTS

SecurityV40ConfigExternalSshAccessConfig<PSCustomObject>
#>

function Initialize-NtnxV4SecurityV40ConfigExternalSshAccessConfig {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${IsSshEnabled},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[System.DateTime]]
        ${SshExpiryTime},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[System.DateTime]]
        ${SshlastEnabledTime},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int64]]
        ${SshEnableDurationHours} = 1
    )

    Process {
        'Creating PSCustomObject: NtnxV4.security => NtnxV4SecurityV40ConfigExternalSshAccessConfig' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($SshEnableDurationHours -and $SshEnableDurationHours -gt 72) {
          throw "invalid value for 'SshEnableDurationHours', must be smaller than or equal to 72."
        }

        if ($SshEnableDurationHours -and $SshEnableDurationHours -lt 1) {
          throw "invalid value for 'SshEnableDurationHours', must be greater than or equal to 1."
        }


        $PSO = [PSCustomObject]@{
            "isSshEnabled" = ${IsSshEnabled}
            "sshExpiryTime" = ${SshExpiryTime}
            "sshlastEnabledTime" = ${SshlastEnabledTime}
            "sshEnableDurationHours" = ${SshEnableDurationHours}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to SecurityV40ConfigExternalSshAccessConfig<PSCustomObject>

.DESCRIPTION

Convert from JSON to SecurityV40ConfigExternalSshAccessConfig<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

SecurityV40ConfigExternalSshAccessConfig<PSCustomObject>
#>
function ConvertFrom-NtnxV4JsonToSecurityV40ConfigExternalSshAccessConfig {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: NtnxV4.security => NtnxV4SecurityV40ConfigExternalSshAccessConfig' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in NtnxV4SecurityV40ConfigExternalSshAccessConfig
        $AllProperties = ("isSshEnabled", "sshExpiryTime", "sshlastEnabledTime", "sshEnableDurationHours")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "isSshEnabled"))) { #optional property not found
            $IsSshEnabled = $null
        } else {
            $IsSshEnabled = $JsonParameters.PSobject.Properties["isSshEnabled"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "sshExpiryTime"))) { #optional property not found
            $SshExpiryTime = $null
        } else {
            $SshExpiryTime = $JsonParameters.PSobject.Properties["sshExpiryTime"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "sshlastEnabledTime"))) { #optional property not found
            $SshlastEnabledTime = $null
        } else {
            $SshlastEnabledTime = $JsonParameters.PSobject.Properties["sshlastEnabledTime"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "sshEnableDurationHours"))) { #optional property not found
            $SshEnableDurationHours = $null
        } else {
            $SshEnableDurationHours = $JsonParameters.PSobject.Properties["sshEnableDurationHours"].value
        }

        $PSO = [PSCustomObject]@{
            "isSshEnabled" = ${IsSshEnabled}
            "sshExpiryTime" = ${SshExpiryTime}
            "sshlastEnabledTime" = ${SshlastEnabledTime}
            "sshEnableDurationHours" = ${SshEnableDurationHours}
        }

        return $PSO
    }

}


#
# Nutanix Virtual Machine Management APIs
# Manage the life-cycle of virtual machines hosted on Nutanix
# Version: 4.1.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

To override the VM configuration captured in the snapshot (VM Recovery Point). Whatever values are specified in this object, will override the corresponding VM config entry from the snapshot. For example, if a new list of NICs are specified, the existing NIC details are replaced with the provided list. If the list of NICs is set to an empty list explicitly, the VM will be created with no NICs. For the case where the NICs are not set in the override spec at all, the NICs from the captured VM config will be attempted during restore.

.PARAMETER Name
Name of the VM to override with. If not specified, a name is chosen by the system and returned to the task entities when complete.
.PARAMETER Description
VM description.
.PARAMETER NicSpec
No description available.
.PARAMETER Categories
Categories to be associated with the VM on successful restore. If not specified, the VM is provisioned without any categories.
.PARAMETER OwnershipInfo
No description available.
.OUTPUTS

VmmV41AhvConfigVmConfigOverrideSpecification<PSCustomObject>
#>

function Initialize-VmmV41AhvConfigVmConfigOverrideSpecification {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Name},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Description},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${NicSpec},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject[]]
        ${Categories},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${OwnershipInfo}
    )

    Process {
        'Creating PSCustomObject: NtnxV4.vmm => NtnxV4VmmV41AhvConfigVmConfigOverrideSpecification' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if (!$Name -and $Name.length -gt 80) {
            throw "invalid value for 'Name', the character length must be smaller than or equal to 80."
        }

        if (!$Categories -and $Categories.length -gt 256) {
            throw "invalid value for 'Categories', number of items must be less than or equal to 256."
        }

        if (!$Categories -and $Categories.length -lt 0) {
            throw "invalid value for 'Categories', number of items must be greater than or equal to 0."
        }


        $PSO = [PSCustomObject]@{
            "name" = ${Name}
            "description" = ${Description}
            "nicSpec" = ${NicSpec}
            "categories" = ${Categories}
            "ownershipInfo" = ${OwnershipInfo}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to VmmV41AhvConfigVmConfigOverrideSpecification<PSCustomObject>

.DESCRIPTION

Convert from JSON to VmmV41AhvConfigVmConfigOverrideSpecification<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

VmmV41AhvConfigVmConfigOverrideSpecification<PSCustomObject>
#>
function ConvertFrom-JsonToVmmV41AhvConfigVmConfigOverrideSpecification {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: NtnxV4.vmm => NtnxV4VmmV41AhvConfigVmConfigOverrideSpecification' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in NtnxV4VmmV41AhvConfigVmConfigOverrideSpecification
        $AllProperties = ("name", "description", "nicSpec", "categories", "ownershipInfo")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "name"))) { #optional property not found
            $Name = $null
        } else {
            $Name = $JsonParameters.PSobject.Properties["name"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "description"))) { #optional property not found
            $Description = $null
        } else {
            $Description = $JsonParameters.PSobject.Properties["description"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "nicSpec"))) { #optional property not found
            $NicSpec = $null
        } else {
            $NicSpec = $JsonParameters.PSobject.Properties["nicSpec"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "categories"))) { #optional property not found
            $Categories = $null
        } else {
            $Categories = $JsonParameters.PSobject.Properties["categories"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "ownershipInfo"))) { #optional property not found
            $OwnershipInfo = $null
        } else {
            $OwnershipInfo = $JsonParameters.PSobject.Properties["ownershipInfo"].value
        }

        $PSO = [PSCustomObject]@{
            "name" = ${Name}
            "description" = ${Description}
            "nicSpec" = ${NicSpec}
            "categories" = ${Categories}
            "ownershipInfo" = ${OwnershipInfo}
        }

        return $PSO
    }

}


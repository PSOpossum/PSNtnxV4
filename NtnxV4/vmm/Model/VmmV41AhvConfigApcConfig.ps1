#
# Nutanix Virtual Machine Management APIs
# Manage the life-cycle of virtual machines hosted on Nutanix
# Version: 4.1.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

Advanced Processor Compatibility configuration for the VM. Enabling this retains the CPU model for the VM across power cycles and migrations.

.PARAMETER IsApcEnabled
If enabled, the selected CPU model will be retained across live and cold migrations of the VM.
.PARAMETER CpuModel
No description available.
.OUTPUTS

VmmV41AhvConfigApcConfig<PSCustomObject>
#>

function Initialize-VmmV41AhvConfigApcConfig {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${IsApcEnabled},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${CpuModel}
    )

    Process {
        'Creating PSCustomObject: vmm => VmmV41AhvConfigApcConfig' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug


        $PSO = [PSCustomObject]@{
            "isApcEnabled" = ${IsApcEnabled}
            "cpuModel" = ${CpuModel}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to VmmV41AhvConfigApcConfig<PSCustomObject>

.DESCRIPTION

Convert from JSON to VmmV41AhvConfigApcConfig<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

VmmV41AhvConfigApcConfig<PSCustomObject>
#>
function ConvertFrom-JsonToVmmV41AhvConfigApcConfig {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: vmm => VmmV41AhvConfigApcConfig' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in VmmV41AhvConfigApcConfig
        $AllProperties = ("isApcEnabled", "cpuModel")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "isApcEnabled"))) { #optional property not found
            $IsApcEnabled = $null
        } else {
            $IsApcEnabled = $JsonParameters.PSobject.Properties["isApcEnabled"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "cpuModel"))) { #optional property not found
            $CpuModel = $null
        } else {
            $CpuModel = $JsonParameters.PSobject.Properties["cpuModel"].value
        }

        $PSO = [PSCustomObject]@{
            "isApcEnabled" = ${IsApcEnabled}
            "cpuModel" = ${CpuModel}
        }

        return $PSO
    }

}


#
# Nutanix Prism APIs
# Manage Tasks, Category Associations and Submit Batch Operations.
# Version: 4.1.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

Secret credentials model for the object store containing access key ID and secret access key.

.PARAMETER AccessKeyId
Access key ID of the object store provided for the backup target.
.PARAMETER SecretAccessKey
Secret access key of the object store provided for the backup target. 
.OUTPUTS

PrismV41ManagementAccessKeyCredentials<PSCustomObject>
#>

function Initialize-PrismV41ManagementAccessKeyCredentials {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${AccessKeyId},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${SecretAccessKey}
    )

    Process {
        'Creating PSCustomObject: prism => PrismV41ManagementAccessKeyCredentials' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($null -eq $AccessKeyId) {
            throw "invalid value for 'AccessKeyId', 'AccessKeyId' cannot be null."
        }

        if ($AccessKeyId.length -gt 128) {
            throw "invalid value for 'AccessKeyId', the character length must be smaller than or equal to 128."
        }

        if ($AccessKeyId.length -lt 16) {
            throw "invalid value for 'AccessKeyId', the character length must be greater than or equal to 16."
        }

        if ($null -eq $SecretAccessKey) {
            throw "invalid value for 'SecretAccessKey', 'SecretAccessKey' cannot be null."
        }

        if ($SecretAccessKey.length -gt 1024) {
            throw "invalid value for 'SecretAccessKey', the character length must be smaller than or equal to 1024."
        }


        $PSO = [PSCustomObject]@{
            "accessKeyId" = ${AccessKeyId}
            "secretAccessKey" = ${SecretAccessKey}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to PrismV41ManagementAccessKeyCredentials<PSCustomObject>

.DESCRIPTION

Convert from JSON to PrismV41ManagementAccessKeyCredentials<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

PrismV41ManagementAccessKeyCredentials<PSCustomObject>
#>
function ConvertFrom-JsonToPrismV41ManagementAccessKeyCredentials {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: prism => PrismV41ManagementAccessKeyCredentials' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in PrismV41ManagementAccessKeyCredentials
        $AllProperties = ("accessKeyId", "secretAccessKey")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        If ([string]::IsNullOrEmpty($Json) -or $Json -eq "{}") { # empty json
            throw "Error! Empty JSON cannot be serialized due to the required property 'accessKeyId' missing."
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "accessKeyId"))) {
            throw "Error! JSON cannot be serialized due to the required property 'accessKeyId' missing."
        } else {
            $AccessKeyId = $JsonParameters.PSobject.Properties["accessKeyId"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "secretAccessKey"))) {
            throw "Error! JSON cannot be serialized due to the required property 'secretAccessKey' missing."
        } else {
            $SecretAccessKey = $JsonParameters.PSobject.Properties["secretAccessKey"].value
        }

        $PSO = [PSCustomObject]@{
            "accessKeyId" = ${AccessKeyId}
            "secretAccessKey" = ${SecretAccessKey}
        }

        return $PSO
    }

}


#
# Nutanix Prism APIs
# Manage Tasks, Category Associations and Submit Batch Operations.
# Version: 4.1.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

The metadata section on the input specification for performing the batch operation.

.PARAMETER Action
No description available.
.PARAMETER Name
An user friendly name of the batch.
.PARAMETER Uri
The absolute URI of the API operation on which batching will be performed.
.PARAMETER ShouldStopOnError
A flag indicating whether the batch procession should halt or continue when an error response is received from the server during the execution of a batch chunk
.PARAMETER ChunkSize
The chunk size to use during the batching operation. If not specified a minimum value of 1 would be chosen.
.OUTPUTS

PrismV41OperationsBatchSpecMetadata<PSCustomObject>
#>

function Initialize-PrismV41OperationsBatchSpecMetadata {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [ValidateSet("CREATE", "MODIFY", "ACTION", "DELETE", "UNKNOWN", "REDACTED")]
        [PSCustomObject]
        ${Action},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Name},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [ValidatePattern("^/api/[a-z\\-]{2,16}/v[0-9]+.[0-9]+.[a-z,0-9]+/.*$")]
        [String]
        ${Uri},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${ShouldStopOnError} = $false,
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${ChunkSize} = 1
    )

    Process {
        'Creating PSCustomObject: NtnxV4.prism => NtnxV4PrismV41OperationsBatchSpecMetadata' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($null -eq $Action) {
            throw "invalid value for 'Action', 'Action' cannot be null."
        }

        if ($null -eq $Name) {
            throw "invalid value for 'Name', 'Name' cannot be null."
        }

        if ($Name.length -gt 256) {
            throw "invalid value for 'Name', the character length must be smaller than or equal to 256."
        }

        if ($null -eq $Uri) {
            throw "invalid value for 'Uri', 'Uri' cannot be null."
        }

        if ($ChunkSize -and $ChunkSize -lt 1) {
          throw "invalid value for 'ChunkSize', must be greater than or equal to 1."
        }


        $PSO = [PSCustomObject]@{
            "action" = ${Action}
            "name" = ${Name}
            "uri" = ${Uri}
            "shouldStopOnError" = ${ShouldStopOnError}
            "chunkSize" = ${ChunkSize}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to PrismV41OperationsBatchSpecMetadata<PSCustomObject>

.DESCRIPTION

Convert from JSON to PrismV41OperationsBatchSpecMetadata<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

PrismV41OperationsBatchSpecMetadata<PSCustomObject>
#>
function ConvertFrom-JsonToPrismV41OperationsBatchSpecMetadata {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: NtnxV4.prism => NtnxV4PrismV41OperationsBatchSpecMetadata' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in NtnxV4PrismV41OperationsBatchSpecMetadata
        $AllProperties = ("action", "name", "uri", "shouldStopOnError", "chunkSize")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        If ([string]::IsNullOrEmpty($Json) -or $Json -eq "{}") { # empty json
            throw "Error! Empty JSON cannot be serialized due to the required property 'action' missing."
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "action"))) {
            throw "Error! JSON cannot be serialized due to the required property 'action' missing."
        } else {
            $Action = $JsonParameters.PSobject.Properties["action"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "name"))) {
            throw "Error! JSON cannot be serialized due to the required property 'name' missing."
        } else {
            $Name = $JsonParameters.PSobject.Properties["name"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "uri"))) {
            throw "Error! JSON cannot be serialized due to the required property 'uri' missing."
        } else {
            $Uri = $JsonParameters.PSobject.Properties["uri"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "shouldStopOnError"))) { #optional property not found
            $ShouldStopOnError = $null
        } else {
            $ShouldStopOnError = $JsonParameters.PSobject.Properties["shouldStopOnError"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "chunkSize"))) { #optional property not found
            $ChunkSize = $null
        } else {
            $ChunkSize = $JsonParameters.PSobject.Properties["chunkSize"].value
        }

        $PSO = [PSCustomObject]@{
            "action" = ${Action}
            "name" = ${Name}
            "uri" = ${Uri}
            "shouldStopOnError" = ${ShouldStopOnError}
            "chunkSize" = ${ChunkSize}
        }

        return $PSO
    }

}


#
# Nutanix IAM Versioned APIs
# Nutanix APIs for managing users, user-groups, directory services, identity providers, roles and authorization policies.
# Version: 4.1.1-beta-1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

Create certificate-based authentication provider

.DESCRIPTION

No description available.

.PARAMETER Name
Unique name of the certificate-based authentication provider.

.PARAMETER ClientCaChain
CA chain file.

.PARAMETER IsCertAuthEnabled
Flag to enable/disable CAC for the current certificate-based authentication provider.

.PARAMETER IsCacEnabled
Flag to enable/disable certificate authentication for the current certificate-based authentication provider.

.PARAMETER CaCertFileName
Name of the uploaded CA chain file.

.PARAMETER TenantId
A globally unique identifier that represents the tenant that owns this entity. The system automatically assigns it, and it and is immutable from an API consumer perspective (some use cases may cause this ID to change - For instance, a use case may require the transfer of ownership of the entity, but these cases are handled automatically on the server). 

.PARAMETER ExtId
A globally unique identifier of an instance that is suitable for external consumption. 

.PARAMETER Links
A HATEOAS style link for the response.  Each link contains a user-friendly name identifying the link and an address for retrieving the particular resource. 

.PARAMETER DirSvcExtID
UUID of an existing directory service.

.PARAMETER CertRevocationInfo
No description available.

.PARAMETER CreatedTime
Creation time of the certificate authentication provider.

.PARAMETER LastUpdatedTime
Last updated time of the certificate authentication provider.

.PARAMETER CreatedBy
User or service who created the certificate authentication provider.

.PARAMETER WithHttpInfo

A switch when turned on will return a hash table of Response, StatusCode and Headers instead of just the Response

.OUTPUTS

CreateCertAuthProvider201Response
#>
function New-CertAuthProvider {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipeline = $true, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${Name},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${ClientCaChain},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [Boolean]
        ${IsCertAuthEnabled},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [Boolean]
        ${IsCacEnabled},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${CaCertFileName},
        [Parameter(Position = 5, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${TenantId},
        [Parameter(Position = 6, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${ExtId},
        [Parameter(Position = 7, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [PSCustomObject[]]
        ${Links},
        [Parameter(Position = 8, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${DirSvcExtID},
        [Parameter(Position = 9, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [PSCustomObject]
        ${CertRevocationInfo},
        [Parameter(Position = 10, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [System.Nullable[System.DateTime]]
        ${CreatedTime},
        [Parameter(Position = 11, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [System.Nullable[System.DateTime]]
        ${LastUpdatedTime},
        [Parameter(Position = 12, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${CreatedBy},
        [Switch]
        $NoHttpInfo
    )

    Process {
        'Calling method: New-CertAuthProvider' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $LocalVarAccepts = @()
        $LocalVarContentTypes = @()
        $LocalVarQueryParameters = @{}
        $LocalVarHeaderParameters = @{}
        $LocalVarFormParameters = @{}
        $LocalVarPathParameters = @{}
        $LocalVarCookieParameters = @{}
        $LocalVarBodyParameter = $null

        $Configuration = Get-Configuration
        # HTTP header 'Accept' (if needed)
        $LocalVarAccepts = @('application/json')

        # HTTP header 'Content-Type'
        $LocalVarContentTypes = @('multipart/form-data')

        $LocalVarUri = '/iam/v4.1.b1/authn/cert-auth-providers'

        if ($TenantId) {
            $LocalVarFormParameters['tenantId'] = $TenantId
        }

        $LocalVarFormParameters['extId'] = $ExtId

        if ($Links) {
            $LocalVarFormParameters['links'] = $Links
        }

        if (!$Name) {
            throw "Error! The required parameter `Name` missing when calling createCertAuthProvider."
        }
        $LocalVarFormParameters['name'] = $Name

        if (!$ClientCaChain) {
            throw "Error! The required parameter `ClientCaChain` missing when calling createCertAuthProvider."
        }
        $LocalVarFormParameters['clientCaChain'] = $ClientCaChain

        if (!$IsCertAuthEnabled) {
            throw "Error! The required parameter `IsCertAuthEnabled` missing when calling createCertAuthProvider."
        }
        $LocalVarFormParameters['isCertAuthEnabled'] = $IsCertAuthEnabled

        if (!$IsCacEnabled) {
            throw "Error! The required parameter `IsCacEnabled` missing when calling createCertAuthProvider."
        }
        $LocalVarFormParameters['isCacEnabled'] = $IsCacEnabled

        if ($DirSvcExtID) {
            $LocalVarFormParameters['dirSvcExtID'] = $DirSvcExtID
        }

        if (!$CaCertFileName) {
            throw "Error! The required parameter `CaCertFileName` missing when calling createCertAuthProvider."
        }
        $LocalVarFormParameters['caCertFileName'] = $CaCertFileName

        if ($CertRevocationInfo) {
            $LocalVarFormParameters['certRevocationInfo'] = $CertRevocationInfo
        }

        if ($CreatedTime) {
            $LocalVarFormParameters['createdTime'] = $CreatedTime
        }

        if ($LastUpdatedTime) {
            $LocalVarFormParameters['lastUpdatedTime'] = $LastUpdatedTime
        }

        if ($CreatedBy) {
            $LocalVarFormParameters['createdBy'] = $CreatedBy
        }

        $LocalVarResult = Invoke-ApiClient -Method 'POST' `
                                -Uri $LocalVarUri `
                                -Accepts $LocalVarAccepts `
                                -ContentTypes $LocalVarContentTypes `
                                -Body $LocalVarBodyParameter `
                                -HeaderParameters $LocalVarHeaderParameters `
                                -QueryParameters $LocalVarQueryParameters `
                                -FormParameters $LocalVarFormParameters `
                                -CookieParameters $LocalVarCookieParameters `
                                -ReturnType "CreateCertAuthProvider201Response" `
                                -IsBodyNullable $false

        if ($NoHttpInfo.IsPresent) {
            return $LocalVarResult["Response"]
        } else {
            return $LocalVarResult
        }
    }
}

<#
.SYNOPSIS

Delete certificate-based authentication provider

.DESCRIPTION

No description available.

.PARAMETER ExtId
UUID V5 created for the certificate-based authentication provider.

.PARAMETER IfMatch
The If-Match request header makes the request conditional. When not provided the server will respond with an HTTP 428 (Precondition Required) response code indicating that the server requires the request to be conditional. The server will allow successful completion of PUT and PATCH operations, if the resource matches the ETag value returned to the response of a GET operation. If the conditional does not match, then an HTTP 412 (Precondition Failed) response 

.PARAMETER WithHttpInfo

A switch when turned on will return a hash table of Response, StatusCode and Headers instead of just the Response

.OUTPUTS

None
#>
function Invoke-DeleteCertAuthProviderById {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipeline = $true, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${ExtId},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${IfMatch},
        [Switch]
        $NoHttpInfo
    )

    Process {
        'Calling method: Invoke-DeleteCertAuthProviderById' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $LocalVarAccepts = @()
        $LocalVarContentTypes = @()
        $LocalVarQueryParameters = @{}
        $LocalVarHeaderParameters = @{}
        $LocalVarFormParameters = @{}
        $LocalVarPathParameters = @{}
        $LocalVarCookieParameters = @{}
        $LocalVarBodyParameter = $null

        $Configuration = Get-Configuration
        # HTTP header 'Accept' (if needed)
        $LocalVarAccepts = @('application/json')

        $LocalVarUri = '/iam/v4.1.b1/authn/cert-auth-providers/{extId}'
        if (!$ExtId) {
            throw "Error! The required parameter `ExtId` missing when calling deleteCertAuthProviderById."
        }
        $LocalVarUri = $LocalVarUri.replace('{extId}', [System.Web.HTTPUtility]::UrlEncode($ExtId))

        if (!$IfMatch) {
            throw "Error! The required parameter `IfMatch` missing when calling deleteCertAuthProviderById."
        }
        $LocalVarHeaderParameters['If-Match'] = $IfMatch

        $LocalVarResult = Invoke-ApiClient -Method 'DELETE' `
                                -Uri $LocalVarUri `
                                -Accepts $LocalVarAccepts `
                                -ContentTypes $LocalVarContentTypes `
                                -Body $LocalVarBodyParameter `
                                -HeaderParameters $LocalVarHeaderParameters `
                                -QueryParameters $LocalVarQueryParameters `
                                -FormParameters $LocalVarFormParameters `
                                -CookieParameters $LocalVarCookieParameters `
                                -ReturnType "" `
                                -IsBodyNullable $false

        if ($NoHttpInfo.IsPresent) {
            return $LocalVarResult["Response"]
        } else {
            return $LocalVarResult
        }
    }
}

<#
.SYNOPSIS

Get certificate-based authentication provider

.DESCRIPTION

No description available.

.PARAMETER ExtId
UUID V5 created for the certificate-based authentication provider.

.PARAMETER WithHttpInfo

A switch when turned on will return a hash table of Response, StatusCode and Headers instead of just the Response

.OUTPUTS

GetCertAuthProviderById200Response
#>
function Get-CertAuthProviderById {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipeline = $true, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${ExtId},
        [Switch]
        $NoHttpInfo
    )

    Process {
        'Calling method: Get-CertAuthProviderById' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $LocalVarAccepts = @()
        $LocalVarContentTypes = @()
        $LocalVarQueryParameters = @{}
        $LocalVarHeaderParameters = @{}
        $LocalVarFormParameters = @{}
        $LocalVarPathParameters = @{}
        $LocalVarCookieParameters = @{}
        $LocalVarBodyParameter = $null

        $Configuration = Get-Configuration
        # HTTP header 'Accept' (if needed)
        $LocalVarAccepts = @('application/json')

        $LocalVarUri = '/iam/v4.1.b1/authn/cert-auth-providers/{extId}'
        if (!$ExtId) {
            throw "Error! The required parameter `ExtId` missing when calling getCertAuthProviderById."
        }
        $LocalVarUri = $LocalVarUri.replace('{extId}', [System.Web.HTTPUtility]::UrlEncode($ExtId))

        $LocalVarResult = Invoke-ApiClient -Method 'GET' `
                                -Uri $LocalVarUri `
                                -Accepts $LocalVarAccepts `
                                -ContentTypes $LocalVarContentTypes `
                                -Body $LocalVarBodyParameter `
                                -HeaderParameters $LocalVarHeaderParameters `
                                -QueryParameters $LocalVarQueryParameters `
                                -FormParameters $LocalVarFormParameters `
                                -CookieParameters $LocalVarCookieParameters `
                                -ReturnType "GetCertAuthProviderById200Response" `
                                -IsBodyNullable $false

        if ($NoHttpInfo.IsPresent) {
            return $LocalVarResult["Response"]
        } else {
            return $LocalVarResult
        }
    }
}

<#
.SYNOPSIS

List certificate-based authentication providers

.DESCRIPTION

No description available.

.PARAMETER Page
A URL query parameter that specifies the page number of the result set. It must be a positive integer between 0 and the maximum number of pages that are available for that resource. Any number out of this range might lead to no results. 

.PARAMETER Limit
A URL query parameter that specifies the total number of records returned in the result set.  Must be a positive integer between 1 and 100. Any number out of this range will lead to a validation error. If the limit is not provided, a default value of 50 records will be returned in the result set. 

.PARAMETER WithHttpInfo

A switch when turned on will return a hash table of Response, StatusCode and Headers instead of just the Response

.OUTPUTS

ListCertAuthProviders200Response
#>
function Invoke-ListCertAuthProviders {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipeline = $true, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [System.Nullable[Int32]]
        ${Page},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [System.Nullable[Int32]]
        ${Limit},
        [Switch]
        $NoHttpInfo
    )

    Process {
        'Calling method: Invoke-ListCertAuthProviders' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $LocalVarAccepts = @()
        $LocalVarContentTypes = @()
        $LocalVarQueryParameters = @{}
        $LocalVarHeaderParameters = @{}
        $LocalVarFormParameters = @{}
        $LocalVarPathParameters = @{}
        $LocalVarCookieParameters = @{}
        $LocalVarBodyParameter = $null

        $Configuration = Get-Configuration
        # HTTP header 'Accept' (if needed)
        $LocalVarAccepts = @('application/json')

        $LocalVarUri = '/iam/v4.1.b1/authn/cert-auth-providers'

        if ($Page) {
            $LocalVarQueryParameters['$page'] = $Page
        }

        if ($Limit) {
            $LocalVarQueryParameters['$limit'] = $Limit
        }

        $LocalVarResult = Invoke-ApiClient -Method 'GET' `
                                -Uri $LocalVarUri `
                                -Accepts $LocalVarAccepts `
                                -ContentTypes $LocalVarContentTypes `
                                -Body $LocalVarBodyParameter `
                                -HeaderParameters $LocalVarHeaderParameters `
                                -QueryParameters $LocalVarQueryParameters `
                                -FormParameters $LocalVarFormParameters `
                                -CookieParameters $LocalVarCookieParameters `
                                -ReturnType "ListCertAuthProviders200Response" `
                                -IsBodyNullable $false

        if ($NoHttpInfo.IsPresent) {
            return $LocalVarResult["Response"]
        } else {
            return $LocalVarResult
        }
    }
}

<#
.SYNOPSIS

Update certificate-based authentication provider

.DESCRIPTION

No description available.

.PARAMETER ExtId
UUID V5 created for the certificate-based authentication provider.

.PARAMETER IfMatch
The If-Match request header makes the request conditional. When not provided, the server will respond with  an HTTP-428 (Precondition Required) response code indicating that the server requires the request to be conditional. The server will allow the successful completion of PUT and PATCH operations, if the resource matches the ETag value returned to the response of a GET operation. If the conditional does not match, then an HTTP-412 (Precondition Failed) response will be returned.

.PARAMETER Name
Unique name of the certificate-based authentication provider.

.PARAMETER ClientCaChain
CA chain file.

.PARAMETER IsCertAuthEnabled
Flag to enable/disable CAC for the current certificate-based authentication provider.

.PARAMETER IsCacEnabled
Flag to enable/disable certificate authentication for the current certificate-based authentication provider.

.PARAMETER CaCertFileName
Name of the uploaded CA chain file.

.PARAMETER TenantId
A globally unique identifier that represents the tenant that owns this entity. The system automatically assigns it, and it and is immutable from an API consumer perspective (some use cases may cause this ID to change - For instance, a use case may require the transfer of ownership of the entity, but these cases are handled automatically on the server). 

.PARAMETER ExtId2
A globally unique identifier of an instance that is suitable for external consumption. 

.PARAMETER Links
A HATEOAS style link for the response.  Each link contains a user-friendly name identifying the link and an address for retrieving the particular resource. 

.PARAMETER DirSvcExtID
UUID of an existing directory service.

.PARAMETER CertRevocationInfo
No description available.

.PARAMETER CreatedTime
Creation time of the certificate authentication provider.

.PARAMETER LastUpdatedTime
Last updated time of the certificate authentication provider.

.PARAMETER CreatedBy
User or service who created the certificate authentication provider.

.PARAMETER WithHttpInfo

A switch when turned on will return a hash table of Response, StatusCode and Headers instead of just the Response

.OUTPUTS

UpdateCertAuthProviderById200Response
#>
function Update-CertAuthProviderById {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipeline = $true, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${ExtId},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${IfMatch},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${Name},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${ClientCaChain},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [Boolean]
        ${IsCertAuthEnabled},
        [Parameter(Position = 5, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [Boolean]
        ${IsCacEnabled},
        [Parameter(Position = 6, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${CaCertFileName},
        [Parameter(Position = 7, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${TenantId},
        [Parameter(Position = 8, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${ExtId2},
        [Parameter(Position = 9, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [PSCustomObject[]]
        ${Links},
        [Parameter(Position = 10, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${DirSvcExtID},
        [Parameter(Position = 11, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [PSCustomObject]
        ${CertRevocationInfo},
        [Parameter(Position = 12, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [System.Nullable[System.DateTime]]
        ${CreatedTime},
        [Parameter(Position = 13, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [System.Nullable[System.DateTime]]
        ${LastUpdatedTime},
        [Parameter(Position = 14, ValueFromPipelineByPropertyName = $true, Mandatory = $false)]
        [String]
        ${CreatedBy},
        [Switch]
        $NoHttpInfo
    )

    Process {
        'Calling method: Update-CertAuthProviderById' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $LocalVarAccepts = @()
        $LocalVarContentTypes = @()
        $LocalVarQueryParameters = @{}
        $LocalVarHeaderParameters = @{}
        $LocalVarFormParameters = @{}
        $LocalVarPathParameters = @{}
        $LocalVarCookieParameters = @{}
        $LocalVarBodyParameter = $null

        $Configuration = Get-Configuration
        # HTTP header 'Accept' (if needed)
        $LocalVarAccepts = @('application/json')

        # HTTP header 'Content-Type'
        $LocalVarContentTypes = @('multipart/form-data')

        $LocalVarUri = '/iam/v4.1.b1/authn/cert-auth-providers/{extId}'
        if (!$ExtId) {
            throw "Error! The required parameter `ExtId` missing when calling updateCertAuthProviderById."
        }
        $LocalVarUri = $LocalVarUri.replace('{extId}', [System.Web.HTTPUtility]::UrlEncode($ExtId))

        if (!$IfMatch) {
            throw "Error! The required parameter `IfMatch` missing when calling updateCertAuthProviderById."
        }
        $LocalVarHeaderParameters['If-Match'] = $IfMatch

        if ($TenantId) {
            $LocalVarFormParameters['tenantId'] = $TenantId
        }

        $LocalVarFormParameters['extId'] = $ExtId2

        if ($Links) {
            $LocalVarFormParameters['links'] = $Links
        }

        if (!$Name) {
            throw "Error! The required parameter `Name` missing when calling updateCertAuthProviderById."
        }
        $LocalVarFormParameters['name'] = $Name

        if (!$ClientCaChain) {
            throw "Error! The required parameter `ClientCaChain` missing when calling updateCertAuthProviderById."
        }
        $LocalVarFormParameters['clientCaChain'] = $ClientCaChain

        if (!$IsCertAuthEnabled) {
            throw "Error! The required parameter `IsCertAuthEnabled` missing when calling updateCertAuthProviderById."
        }
        $LocalVarFormParameters['isCertAuthEnabled'] = $IsCertAuthEnabled

        if (!$IsCacEnabled) {
            throw "Error! The required parameter `IsCacEnabled` missing when calling updateCertAuthProviderById."
        }
        $LocalVarFormParameters['isCacEnabled'] = $IsCacEnabled

        if ($DirSvcExtID) {
            $LocalVarFormParameters['dirSvcExtID'] = $DirSvcExtID
        }

        if (!$CaCertFileName) {
            throw "Error! The required parameter `CaCertFileName` missing when calling updateCertAuthProviderById."
        }
        $LocalVarFormParameters['caCertFileName'] = $CaCertFileName

        if ($CertRevocationInfo) {
            $LocalVarFormParameters['certRevocationInfo'] = $CertRevocationInfo
        }

        if ($CreatedTime) {
            $LocalVarFormParameters['createdTime'] = $CreatedTime
        }

        if ($LastUpdatedTime) {
            $LocalVarFormParameters['lastUpdatedTime'] = $LastUpdatedTime
        }

        if ($CreatedBy) {
            $LocalVarFormParameters['createdBy'] = $CreatedBy
        }

        $LocalVarResult = Invoke-ApiClient -Method 'PUT' `
                                -Uri $LocalVarUri `
                                -Accepts $LocalVarAccepts `
                                -ContentTypes $LocalVarContentTypes `
                                -Body $LocalVarBodyParameter `
                                -HeaderParameters $LocalVarHeaderParameters `
                                -QueryParameters $LocalVarQueryParameters `
                                -FormParameters $LocalVarFormParameters `
                                -CookieParameters $LocalVarCookieParameters `
                                -ReturnType "UpdateCertAuthProviderById200Response" `
                                -IsBodyNullable $false

        if ($NoHttpInfo.IsPresent) {
            return $LocalVarResult["Response"]
        } else {
            return $LocalVarResult
        }
    }
}


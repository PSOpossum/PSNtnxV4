#
# Nutanix Virtual Machine Management APIs
# Manage the life-cycle of virtual machines hosted on Nutanix
# Version: 4.1.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

The value associated with the key for this key-value pair

.PARAMETER Json

JSON object

.OUTPUTS

CommonV10ConfigKVPairValue<PSCustomObject>
#>
function ConvertFrom-NtnxV4JsonToCommonV10ConfigKVPairValue {
    [CmdletBinding()]
    Param (
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        $match = 0
        $matchType = $null
        $matchInstance = $null

        # try to match Boolean defined in the oneOf schemas
        try {
            $matchInstance = ConvertFrom-NtnxV4JsonToBoolean $Json

            foreach($property in $matchInstance.PsObject.Properties) {
                if ($null -ne $property.Value) {
                    $matchType = "Boolean"
                    $match++
                    break
                }
            }
        } catch {
            # fail to match the schema defined in oneOf, proceed to the next one
            Write-Debug "Failed to match 'Boolean' defined in oneOf (NtnxV4CommonV10ConfigKVPairValue). Proceeding to the next one if any."
        }

        # try to match CommonV10ConfigMapOfStringWrapper[] defined in the oneOf schemas
        try {
            $matchInstance = ConvertFrom-NtnxV4JsonToCommonV10ConfigMapOfStringWrapper[] $Json

            foreach($property in $matchInstance.PsObject.Properties) {
                if ($null -ne $property.Value) {
                    $matchType = "CommonV10ConfigMapOfStringWrapper[]"
                    $match++
                    break
                }
            }
        } catch {
            # fail to match the schema defined in oneOf, proceed to the next one
            Write-Debug "Failed to match 'CommonV10ConfigMapOfStringWrapper[]' defined in oneOf (NtnxV4CommonV10ConfigKVPairValue). Proceeding to the next one if any."
        }

        # try to match Int32 defined in the oneOf schemas
        try {
            $matchInstance = ConvertFrom-NtnxV4JsonToInt32 $Json

            foreach($property in $matchInstance.PsObject.Properties) {
                if ($null -ne $property.Value) {
                    $matchType = "Int32"
                    $match++
                    break
                }
            }
        } catch {
            # fail to match the schema defined in oneOf, proceed to the next one
            Write-Debug "Failed to match 'Int32' defined in oneOf (NtnxV4CommonV10ConfigKVPairValue). Proceeding to the next one if any."
        }

        # try to match Int32[] defined in the oneOf schemas
        try {
            $matchInstance = ConvertFrom-NtnxV4JsonToInt32[] $Json

            foreach($property in $matchInstance.PsObject.Properties) {
                if ($null -ne $property.Value) {
                    $matchType = "Int32[]"
                    $match++
                    break
                }
            }
        } catch {
            # fail to match the schema defined in oneOf, proceed to the next one
            Write-Debug "Failed to match 'Int32[]' defined in oneOf (NtnxV4CommonV10ConfigKVPairValue). Proceeding to the next one if any."
        }

        # try to match String defined in the oneOf schemas
        try {
            $matchInstance = ConvertFrom-NtnxV4JsonToString $Json

            foreach($property in $matchInstance.PsObject.Properties) {
                if ($null -ne $property.Value) {
                    $matchType = "String"
                    $match++
                    break
                }
            }
        } catch {
            # fail to match the schema defined in oneOf, proceed to the next one
            Write-Debug "Failed to match 'String' defined in oneOf (NtnxV4CommonV10ConfigKVPairValue). Proceeding to the next one if any."
        }

        # try to match String[] defined in the oneOf schemas
        try {
            $matchInstance = ConvertFrom-NtnxV4JsonToString[] $Json

            foreach($property in $matchInstance.PsObject.Properties) {
                if ($null -ne $property.Value) {
                    $matchType = "String[]"
                    $match++
                    break
                }
            }
        } catch {
            # fail to match the schema defined in oneOf, proceed to the next one
            Write-Debug "Failed to match 'String[]' defined in oneOf (NtnxV4CommonV10ConfigKVPairValue). Proceeding to the next one if any."
        }

        # try to match System.Collections.Hashtable defined in the oneOf schemas
        try {
            $matchInstance = ConvertFrom-NtnxV4JsonToSystem.Collections.Hashtable $Json

            foreach($property in $matchInstance.PsObject.Properties) {
                if ($null -ne $property.Value) {
                    $matchType = "System.Collections.Hashtable"
                    $match++
                    break
                }
            }
        } catch {
            # fail to match the schema defined in oneOf, proceed to the next one
            Write-Debug "Failed to match 'System.Collections.Hashtable' defined in oneOf (NtnxV4CommonV10ConfigKVPairValue). Proceeding to the next one if any."
        }

        if ($match -gt 1) {
            throw "Error! The JSON payload matches more than one type defined in oneOf schemas ([Boolean, CommonV10ConfigMapOfStringWrapper[], Int32, Int32[], String, String[], System.Collections.Hashtable]). JSON Payload: $($Json)"
        } elseif ($match -eq 1) {
            return [PSCustomObject]@{
                "ActualType" = ${matchType}
                "ActualInstance" = ${matchInstance}
                "OneOfSchemas" = @("Boolean", "CommonV10ConfigMapOfStringWrapper[]", "Int32", "Int32[]", "String", "String[]", "System.Collections.Hashtable")
            }
        } else {
            throw "Error! The JSON payload doesn't matches any type defined in oneOf schemas ([Boolean, CommonV10ConfigMapOfStringWrapper[], Int32, Int32[], String, String[], System.Collections.Hashtable]). JSON Payload: $($Json)"
        }
    }
}


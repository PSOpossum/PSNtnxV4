#
# Nutanix Prism APIs
# Manage Tasks, Category Associations and Submit Batch Operations.
# Version: 4.1.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

The endpoint of the object store where backup data of Prism Central is present. 

.PARAMETER EndpointAddress
The endpoint address of the object store where backup data of Prism Central is present. 
.PARAMETER EndpointFlavour
No description available.
.PARAMETER EndpointCredentials
No description available.
.PARAMETER RpoSeconds
A RPO value in seconds to be configured. 
.PARAMETER IpAddressOrDomain
The ip address or domain of the object store endpoint where backup data of Prism Central is stored. 
.PARAMETER Port
The port of the object store endpoint where backup data of Prism Central is stored. 
.PARAMETER Bucket
The bucket name of the object store endpoint where backup data of Prism Central is stored. 
.PARAMETER Region
The region name of the object store endpoint where backup data of Prism Central is stored. 
.PARAMETER SkipTLS
Skip the verification of TLS certificates during communication with object store endpoint. 
.PARAMETER BackupRetentionDays
Retention days configured for backup in Object Store.     
.PARAMETER SkipCertificateValidation
Skip the verification of certificate during communication with object store endpoint 
.PARAMETER HasCustomCertificate
Whether custom certificate provided or not. 
.OUTPUTS

PrismV41ProtectpcPcObjectStoreEndpoint<PSCustomObject>
#>

function Initialize-NtnxV4PrismV41ProtectpcPcObjectStoreEndpoint {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${EndpointAddress},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [ValidateSet("kS3", "kOBJECTS", "UNKNOWN")]
        [PSCustomObject]
        ${EndpointFlavour},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${EndpointCredentials},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${RpoSeconds},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${IpAddressOrDomain},
        [Parameter(Position = 5, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Port} = "443",
        [Parameter(Position = 6, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Bucket},
        [Parameter(Position = 7, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Region} = "us-east-1",
        [Parameter(Position = 8, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${SkipTLS} = $false,
        [Parameter(Position = 9, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${BackupRetentionDays} = 31,
        [Parameter(Position = 10, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${SkipCertificateValidation} = $false,
        [Parameter(Position = 11, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${HasCustomCertificate}
    )

    Process {
        'Creating PSCustomObject: NtnxV4.prism => NtnxV4PrismV41ProtectpcPcObjectStoreEndpoint' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($BackupRetentionDays -and $BackupRetentionDays -lt 1) {
          throw "invalid value for 'BackupRetentionDays', must be greater than or equal to 1."
        }


        $PSO = [PSCustomObject]@{
            "endpointAddress" = ${EndpointAddress}
            "endpointFlavour" = ${EndpointFlavour}
            "endpointCredentials" = ${EndpointCredentials}
            "rpoSeconds" = ${RpoSeconds}
            "ipAddressOrDomain" = ${IpAddressOrDomain}
            "port" = ${Port}
            "bucket" = ${Bucket}
            "region" = ${Region}
            "skipTLS" = ${SkipTLS}
            "backupRetentionDays" = ${BackupRetentionDays}
            "skipCertificateValidation" = ${SkipCertificateValidation}
            "hasCustomCertificate" = ${HasCustomCertificate}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to PrismV41ProtectpcPcObjectStoreEndpoint<PSCustomObject>

.DESCRIPTION

Convert from JSON to PrismV41ProtectpcPcObjectStoreEndpoint<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

PrismV41ProtectpcPcObjectStoreEndpoint<PSCustomObject>
#>
function ConvertFrom-NtnxV4JsonToPrismV41ProtectpcPcObjectStoreEndpoint {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: NtnxV4.prism => NtnxV4PrismV41ProtectpcPcObjectStoreEndpoint' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in NtnxV4PrismV41ProtectpcPcObjectStoreEndpoint
        $AllProperties = ("endpointAddress", "endpointFlavour", "endpointCredentials", "rpoSeconds", "ipAddressOrDomain", "port", "bucket", "region", "skipTLS", "backupRetentionDays", "skipCertificateValidation", "hasCustomCertificate")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "endpointAddress"))) { #optional property not found
            $EndpointAddress = $null
        } else {
            $EndpointAddress = $JsonParameters.PSobject.Properties["endpointAddress"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "endpointFlavour"))) { #optional property not found
            $EndpointFlavour = $null
        } else {
            $EndpointFlavour = $JsonParameters.PSobject.Properties["endpointFlavour"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "endpointCredentials"))) { #optional property not found
            $EndpointCredentials = $null
        } else {
            $EndpointCredentials = $JsonParameters.PSobject.Properties["endpointCredentials"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "rpoSeconds"))) { #optional property not found
            $RpoSeconds = $null
        } else {
            $RpoSeconds = $JsonParameters.PSobject.Properties["rpoSeconds"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "ipAddressOrDomain"))) { #optional property not found
            $IpAddressOrDomain = $null
        } else {
            $IpAddressOrDomain = $JsonParameters.PSobject.Properties["ipAddressOrDomain"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "port"))) { #optional property not found
            $Port = $null
        } else {
            $Port = $JsonParameters.PSobject.Properties["port"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "bucket"))) { #optional property not found
            $Bucket = $null
        } else {
            $Bucket = $JsonParameters.PSobject.Properties["bucket"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "region"))) { #optional property not found
            $Region = $null
        } else {
            $Region = $JsonParameters.PSobject.Properties["region"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "skipTLS"))) { #optional property not found
            $SkipTLS = $null
        } else {
            $SkipTLS = $JsonParameters.PSobject.Properties["skipTLS"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "backupRetentionDays"))) { #optional property not found
            $BackupRetentionDays = $null
        } else {
            $BackupRetentionDays = $JsonParameters.PSobject.Properties["backupRetentionDays"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "skipCertificateValidation"))) { #optional property not found
            $SkipCertificateValidation = $null
        } else {
            $SkipCertificateValidation = $JsonParameters.PSobject.Properties["skipCertificateValidation"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "hasCustomCertificate"))) { #optional property not found
            $HasCustomCertificate = $null
        } else {
            $HasCustomCertificate = $JsonParameters.PSobject.Properties["hasCustomCertificate"].value
        }

        $PSO = [PSCustomObject]@{
            "endpointAddress" = ${EndpointAddress}
            "endpointFlavour" = ${EndpointFlavour}
            "endpointCredentials" = ${EndpointCredentials}
            "rpoSeconds" = ${RpoSeconds}
            "ipAddressOrDomain" = ${IpAddressOrDomain}
            "port" = ${Port}
            "bucket" = ${Bucket}
            "region" = ${Region}
            "skipTLS" = ${SkipTLS}
            "backupRetentionDays" = ${BackupRetentionDays}
            "skipCertificateValidation" = ${SkipCertificateValidation}
            "hasCustomCertificate" = ${HasCustomCertificate}
        }

        return $PSO
    }

}


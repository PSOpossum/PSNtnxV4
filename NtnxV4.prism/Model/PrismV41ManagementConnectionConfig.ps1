#
# Nutanix Prism APIs
# Manage Tasks, Category Associations and Submit Batch Operations.
# Version: 4.1.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

Connection configuration to be used when making a connection with the object store. 

.PARAMETER IpAddressOrHostname
No description available.
.PARAMETER ShouldSkipCertificateValidation
Skips the verification of the certificate during communication with the object store endpoint. 
.PARAMETER Certificate
Certificate which will be used while validating the object store identity. 
.PARAMETER HasCustomCertificate
Indicates whether a custom certificate were configured or not.
.OUTPUTS

PrismV41ManagementConnectionConfig<PSCustomObject>
#>

function Initialize-NtnxV4PrismV41ManagementConnectionConfig {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${IpAddressOrHostname},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${ShouldSkipCertificateValidation} = $false,
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Certificate},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${HasCustomCertificate}
    )

    Process {
        'Creating PSCustomObject: NtnxV4.prism => NtnxV4PrismV41ManagementConnectionConfig' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($null -eq $IpAddressOrHostname) {
            throw "invalid value for 'IpAddressOrHostname', 'IpAddressOrHostname' cannot be null."
        }

        if (!$Certificate -and $Certificate.length -gt 42667) {
            throw "invalid value for 'Certificate', the character length must be smaller than or equal to 42667."
        }


        $PSO = [PSCustomObject]@{
            "ipAddressOrHostname" = ${IpAddressOrHostname}
            "shouldSkipCertificateValidation" = ${ShouldSkipCertificateValidation}
            "certificate" = ${Certificate}
            "hasCustomCertificate" = ${HasCustomCertificate}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to PrismV41ManagementConnectionConfig<PSCustomObject>

.DESCRIPTION

Convert from JSON to PrismV41ManagementConnectionConfig<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

PrismV41ManagementConnectionConfig<PSCustomObject>
#>
function ConvertFrom-NtnxV4JsonToPrismV41ManagementConnectionConfig {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: NtnxV4.prism => NtnxV4PrismV41ManagementConnectionConfig' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in NtnxV4PrismV41ManagementConnectionConfig
        $AllProperties = ("ipAddressOrHostname", "shouldSkipCertificateValidation", "certificate", "hasCustomCertificate")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        If ([string]::IsNullOrEmpty($Json) -or $Json -eq "{}") { # empty json
            throw "Error! Empty JSON cannot be serialized due to the required property 'ipAddressOrHostname' missing."
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "ipAddressOrHostname"))) {
            throw "Error! JSON cannot be serialized due to the required property 'ipAddressOrHostname' missing."
        } else {
            $IpAddressOrHostname = $JsonParameters.PSobject.Properties["ipAddressOrHostname"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "shouldSkipCertificateValidation"))) { #optional property not found
            $ShouldSkipCertificateValidation = $null
        } else {
            $ShouldSkipCertificateValidation = $JsonParameters.PSobject.Properties["shouldSkipCertificateValidation"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "certificate"))) { #optional property not found
            $Certificate = $null
        } else {
            $Certificate = $JsonParameters.PSobject.Properties["certificate"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "hasCustomCertificate"))) { #optional property not found
            $HasCustomCertificate = $null
        } else {
            $HasCustomCertificate = $JsonParameters.PSobject.Properties["hasCustomCertificate"].value
        }

        $PSO = [PSCustomObject]@{
            "ipAddressOrHostname" = ${IpAddressOrHostname}
            "shouldSkipCertificateValidation" = ${ShouldSkipCertificateValidation}
            "certificate" = ${Certificate}
            "hasCustomCertificate" = ${HasCustomCertificate}
        }

        return $PSO
    }

}


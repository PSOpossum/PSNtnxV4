#
# Nutanix Prism APIs
# Manage Tasks, Category Associations and Submit Batch Operations.
# Version: 4.1.1
# Generated by OpenAPI Generator: https://openapi-generator.tech
#

<#
.SYNOPSIS

No summary available.

.DESCRIPTION

The task object tracking an asynchronous operation.

.PARAMETER ExtId
A globally unique identifier for a task.
.PARAMETER Operation
The name of the operation being tracked by the task.
.PARAMETER OperationDescription
Description of the operation tracked by the task.
.PARAMETER ParentTask
No description available.
.PARAMETER CreatedTime
UTC date and time in RFC-3339 format when the task was created.
.PARAMETER StartedTime
UTC date and time in RFC-3339 format when the task was started.
.PARAMETER CompletedTime
UTC date and time in RFC-3339 format when the task was completed.
.PARAMETER Status
No description available.
.PARAMETER ProgressPercentage
Task progress expressed as a percentage.
.PARAMETER EntitiesAffected
Reference to entities associated with the task.
.PARAMETER SubTasks
Reference to tasks spawned as children of the current task. The Task Get API operation response would contain a limited number of subtask references. To retrieve the full list of subtasks for a task, use the parent task filter in the Task List API operation.
.PARAMETER SubSteps
List of steps completed as part of the task.
.PARAMETER IsCancelable
Indicates whether the task can be canceled.
.PARAMETER OwnedBy
No description available.
.PARAMETER CompletionDetails
Additional details about the task to help the user take further action after the task is completed.
.PARAMETER ErrorMessages
Error details that explain a task failure. These would only be populated if a task failed.
.PARAMETER LegacyErrorMessage
Provides an error message in the absence of a well-defined error message for tasks created by legacy APIs.
.PARAMETER Warnings
Warning messages to alert the user of issues which did not directly cause the task to fail.. These can be populated for any task.
.PARAMETER LastUpdatedTime
UTC date and time in RFC-3339 format when the task was last updated.
.PARAMETER ClusterExtIds
List of globally unique identifiers for clusters associated with the task or any of its subtasks.
.PARAMETER RootTask
No description available.
.PARAMETER IsBackgroundTask
Indicates whether or not the task is a background task.
.PARAMETER NumberOfSubtasks
Number of tasks spawned as children of the current task.
.PARAMETER NumberOfEntitiesAffected
Number of entities associated with the task.
.PARAMETER ResourceLinks
Reference to resources associated with the task.
.PARAMETER AppName
Name of the application to which the task belongs.
.OUTPUTS

PrismV41ConfigTask<PSCustomObject>
#>

function Initialize-NtnxV4PrismV41ConfigTask {
    [CmdletBinding()]
    Param (
        [Parameter(Position = 0, ValueFromPipelineByPropertyName = $true)]
        [ValidatePattern("^[a-zA-Z0-9/+]*={0,2}:[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}")]
        [String]
        ${ExtId},
        [Parameter(Position = 1, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${Operation},
        [Parameter(Position = 2, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${OperationDescription},
        [Parameter(Position = 3, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${ParentTask},
        [Parameter(Position = 4, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[System.DateTime]]
        ${CreatedTime},
        [Parameter(Position = 5, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[System.DateTime]]
        ${StartedTime},
        [Parameter(Position = 6, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[System.DateTime]]
        ${CompletedTime},
        [Parameter(Position = 7, ValueFromPipelineByPropertyName = $true)]
        [ValidateSet("QUEUED", "RUNNING", "CANCELING", "SUCCEEDED", "FAILED", "CANCELED", "SUSPENDED", "UNKNOWN", "REDACTED")]
        [PSCustomObject]
        ${Status},
        [Parameter(Position = 8, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${ProgressPercentage},
        [Parameter(Position = 9, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject[]]
        ${EntitiesAffected},
        [Parameter(Position = 10, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject[]]
        ${SubTasks},
        [Parameter(Position = 11, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject[]]
        ${SubSteps},
        [Parameter(Position = 12, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${IsCancelable},
        [Parameter(Position = 13, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${OwnedBy},
        [Parameter(Position = 14, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject[]]
        ${CompletionDetails},
        [Parameter(Position = 15, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject[]]
        ${ErrorMessages},
        [Parameter(Position = 16, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${LegacyErrorMessage},
        [Parameter(Position = 17, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject[]]
        ${Warnings},
        [Parameter(Position = 18, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[System.DateTime]]
        ${LastUpdatedTime},
        [Parameter(Position = 19, ValueFromPipelineByPropertyName = $true)]
        [String[]]
        ${ClusterExtIds},
        [Parameter(Position = 20, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject]
        ${RootTask},
        [Parameter(Position = 21, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Boolean]]
        ${IsBackgroundTask},
        [Parameter(Position = 22, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${NumberOfSubtasks},
        [Parameter(Position = 23, ValueFromPipelineByPropertyName = $true)]
        [System.Nullable[Int32]]
        ${NumberOfEntitiesAffected},
        [Parameter(Position = 24, ValueFromPipelineByPropertyName = $true)]
        [PSCustomObject[]]
        ${ResourceLinks},
        [Parameter(Position = 25, ValueFromPipelineByPropertyName = $true)]
        [String]
        ${AppName}
    )

    Process {
        'Creating PSCustomObject: NtnxV4.prism => NtnxV4PrismV41ConfigTask' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        if ($ProgressPercentage -and $ProgressPercentage -gt 100) {
          throw "invalid value for 'ProgressPercentage', must be smaller than or equal to 100."
        }

        if ($ProgressPercentage -and $ProgressPercentage -lt 0) {
          throw "invalid value for 'ProgressPercentage', must be greater than or equal to 0."
        }

        if (!$EntitiesAffected -and $EntitiesAffected.length -gt 300) {
            throw "invalid value for 'EntitiesAffected', number of items must be less than or equal to 300."
        }

        if (!$EntitiesAffected -and $EntitiesAffected.length -lt 0) {
            throw "invalid value for 'EntitiesAffected', number of items must be greater than or equal to 0."
        }

        if (!$SubTasks -and $SubTasks.length -gt 100) {
            throw "invalid value for 'SubTasks', number of items must be less than or equal to 100."
        }

        if (!$SubTasks -and $SubTasks.length -lt 0) {
            throw "invalid value for 'SubTasks', number of items must be greater than or equal to 0."
        }

        if (!$SubSteps -and $SubSteps.length -gt 50) {
            throw "invalid value for 'SubSteps', number of items must be less than or equal to 50."
        }

        if (!$SubSteps -and $SubSteps.length -lt 0) {
            throw "invalid value for 'SubSteps', number of items must be greater than or equal to 0."
        }

        if (!$CompletionDetails -and $CompletionDetails.length -gt 50) {
            throw "invalid value for 'CompletionDetails', number of items must be less than or equal to 50."
        }

        if (!$CompletionDetails -and $CompletionDetails.length -lt 0) {
            throw "invalid value for 'CompletionDetails', number of items must be greater than or equal to 0."
        }

        if (!$ErrorMessages -and $ErrorMessages.length -gt 100) {
            throw "invalid value for 'ErrorMessages', number of items must be less than or equal to 100."
        }

        if (!$ErrorMessages -and $ErrorMessages.length -lt 0) {
            throw "invalid value for 'ErrorMessages', number of items must be greater than or equal to 0."
        }

        if (!$Warnings -and $Warnings.length -gt 50) {
            throw "invalid value for 'Warnings', number of items must be less than or equal to 50."
        }

        if (!$Warnings -and $Warnings.length -lt 0) {
            throw "invalid value for 'Warnings', number of items must be greater than or equal to 0."
        }

        if (!$ClusterExtIds -and $ClusterExtIds.length -gt 500) {
            throw "invalid value for 'ClusterExtIds', number of items must be less than or equal to 500."
        }

        if (!$ClusterExtIds -and $ClusterExtIds.length -lt 0) {
            throw "invalid value for 'ClusterExtIds', number of items must be greater than or equal to 0."
        }

        if (!$ResourceLinks -and $ResourceLinks.length -gt 10) {
            throw "invalid value for 'ResourceLinks', number of items must be less than or equal to 10."
        }

        if (!$ResourceLinks -and $ResourceLinks.length -lt 0) {
            throw "invalid value for 'ResourceLinks', number of items must be greater than or equal to 0."
        }


        $PSO = [PSCustomObject]@{
            "extId" = ${ExtId}
            "operation" = ${Operation}
            "operationDescription" = ${OperationDescription}
            "parentTask" = ${ParentTask}
            "createdTime" = ${CreatedTime}
            "startedTime" = ${StartedTime}
            "completedTime" = ${CompletedTime}
            "status" = ${Status}
            "progressPercentage" = ${ProgressPercentage}
            "entitiesAffected" = ${EntitiesAffected}
            "subTasks" = ${SubTasks}
            "subSteps" = ${SubSteps}
            "isCancelable" = ${IsCancelable}
            "ownedBy" = ${OwnedBy}
            "completionDetails" = ${CompletionDetails}
            "errorMessages" = ${ErrorMessages}
            "legacyErrorMessage" = ${LegacyErrorMessage}
            "warnings" = ${Warnings}
            "lastUpdatedTime" = ${LastUpdatedTime}
            "clusterExtIds" = ${ClusterExtIds}
            "rootTask" = ${RootTask}
            "isBackgroundTask" = ${IsBackgroundTask}
            "numberOfSubtasks" = ${NumberOfSubtasks}
            "numberOfEntitiesAffected" = ${NumberOfEntitiesAffected}
            "resourceLinks" = ${ResourceLinks}
            "appName" = ${AppName}
        }


        return $PSO
    }
}

<#
.SYNOPSIS

Convert from JSON to PrismV41ConfigTask<PSCustomObject>

.DESCRIPTION

Convert from JSON to PrismV41ConfigTask<PSCustomObject>

.PARAMETER Json

Json object

.OUTPUTS

PrismV41ConfigTask<PSCustomObject>
#>
function ConvertFrom-NtnxV4JsonToPrismV41ConfigTask {
    Param(
        [AllowEmptyString()]
        [string]$Json
    )

    Process {
        'Converting JSON to PSCustomObject: NtnxV4.prism => NtnxV4PrismV41ConfigTask' | Write-Debug
        $PSBoundParameters | Out-DebugParameter | Write-Debug

        $JsonParameters = ConvertFrom-Json -InputObject $Json

        # check if Json contains properties not defined in NtnxV4PrismV41ConfigTask
        $AllProperties = ("extId", "operation", "operationDescription", "parentTask", "createdTime", "startedTime", "completedTime", "status", "progressPercentage", "entitiesAffected", "subTasks", "subSteps", "isCancelable", "ownedBy", "completionDetails", "errorMessages", "legacyErrorMessage", "warnings", "lastUpdatedTime", "clusterExtIds", "rootTask", "isBackgroundTask", "numberOfSubtasks", "numberOfEntitiesAffected", "resourceLinks", "appName")
        foreach ($name in $JsonParameters.PsObject.Properties.Name) {
            if (!($AllProperties.Contains($name))) {
                throw "Error! JSON key '$name' not found in the properties: $($AllProperties)"
            }
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "extId"))) { #optional property not found
            $ExtId = $null
        } else {
            $ExtId = $JsonParameters.PSobject.Properties["extId"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "operation"))) { #optional property not found
            $Operation = $null
        } else {
            $Operation = $JsonParameters.PSobject.Properties["operation"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "operationDescription"))) { #optional property not found
            $OperationDescription = $null
        } else {
            $OperationDescription = $JsonParameters.PSobject.Properties["operationDescription"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "parentTask"))) { #optional property not found
            $ParentTask = $null
        } else {
            $ParentTask = $JsonParameters.PSobject.Properties["parentTask"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "createdTime"))) { #optional property not found
            $CreatedTime = $null
        } else {
            $CreatedTime = $JsonParameters.PSobject.Properties["createdTime"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "startedTime"))) { #optional property not found
            $StartedTime = $null
        } else {
            $StartedTime = $JsonParameters.PSobject.Properties["startedTime"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "completedTime"))) { #optional property not found
            $CompletedTime = $null
        } else {
            $CompletedTime = $JsonParameters.PSobject.Properties["completedTime"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "status"))) { #optional property not found
            $Status = $null
        } else {
            $Status = $JsonParameters.PSobject.Properties["status"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "progressPercentage"))) { #optional property not found
            $ProgressPercentage = $null
        } else {
            $ProgressPercentage = $JsonParameters.PSobject.Properties["progressPercentage"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "entitiesAffected"))) { #optional property not found
            $EntitiesAffected = $null
        } else {
            $EntitiesAffected = $JsonParameters.PSobject.Properties["entitiesAffected"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "subTasks"))) { #optional property not found
            $SubTasks = $null
        } else {
            $SubTasks = $JsonParameters.PSobject.Properties["subTasks"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "subSteps"))) { #optional property not found
            $SubSteps = $null
        } else {
            $SubSteps = $JsonParameters.PSobject.Properties["subSteps"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "isCancelable"))) { #optional property not found
            $IsCancelable = $null
        } else {
            $IsCancelable = $JsonParameters.PSobject.Properties["isCancelable"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "ownedBy"))) { #optional property not found
            $OwnedBy = $null
        } else {
            $OwnedBy = $JsonParameters.PSobject.Properties["ownedBy"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "completionDetails"))) { #optional property not found
            $CompletionDetails = $null
        } else {
            $CompletionDetails = $JsonParameters.PSobject.Properties["completionDetails"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "errorMessages"))) { #optional property not found
            $ErrorMessages = $null
        } else {
            $ErrorMessages = $JsonParameters.PSobject.Properties["errorMessages"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "legacyErrorMessage"))) { #optional property not found
            $LegacyErrorMessage = $null
        } else {
            $LegacyErrorMessage = $JsonParameters.PSobject.Properties["legacyErrorMessage"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "warnings"))) { #optional property not found
            $Warnings = $null
        } else {
            $Warnings = $JsonParameters.PSobject.Properties["warnings"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "lastUpdatedTime"))) { #optional property not found
            $LastUpdatedTime = $null
        } else {
            $LastUpdatedTime = $JsonParameters.PSobject.Properties["lastUpdatedTime"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "clusterExtIds"))) { #optional property not found
            $ClusterExtIds = $null
        } else {
            $ClusterExtIds = $JsonParameters.PSobject.Properties["clusterExtIds"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "rootTask"))) { #optional property not found
            $RootTask = $null
        } else {
            $RootTask = $JsonParameters.PSobject.Properties["rootTask"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "isBackgroundTask"))) { #optional property not found
            $IsBackgroundTask = $null
        } else {
            $IsBackgroundTask = $JsonParameters.PSobject.Properties["isBackgroundTask"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "numberOfSubtasks"))) { #optional property not found
            $NumberOfSubtasks = $null
        } else {
            $NumberOfSubtasks = $JsonParameters.PSobject.Properties["numberOfSubtasks"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "numberOfEntitiesAffected"))) { #optional property not found
            $NumberOfEntitiesAffected = $null
        } else {
            $NumberOfEntitiesAffected = $JsonParameters.PSobject.Properties["numberOfEntitiesAffected"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "resourceLinks"))) { #optional property not found
            $ResourceLinks = $null
        } else {
            $ResourceLinks = $JsonParameters.PSobject.Properties["resourceLinks"].value
        }

        if (!([bool]($JsonParameters.PSobject.Properties.name -match "appName"))) { #optional property not found
            $AppName = $null
        } else {
            $AppName = $JsonParameters.PSobject.Properties["appName"].value
        }

        $PSO = [PSCustomObject]@{
            "extId" = ${ExtId}
            "operation" = ${Operation}
            "operationDescription" = ${OperationDescription}
            "parentTask" = ${ParentTask}
            "createdTime" = ${CreatedTime}
            "startedTime" = ${StartedTime}
            "completedTime" = ${CompletedTime}
            "status" = ${Status}
            "progressPercentage" = ${ProgressPercentage}
            "entitiesAffected" = ${EntitiesAffected}
            "subTasks" = ${SubTasks}
            "subSteps" = ${SubSteps}
            "isCancelable" = ${IsCancelable}
            "ownedBy" = ${OwnedBy}
            "completionDetails" = ${CompletionDetails}
            "errorMessages" = ${ErrorMessages}
            "legacyErrorMessage" = ${LegacyErrorMessage}
            "warnings" = ${Warnings}
            "lastUpdatedTime" = ${LastUpdatedTime}
            "clusterExtIds" = ${ClusterExtIds}
            "rootTask" = ${RootTask}
            "isBackgroundTask" = ${IsBackgroundTask}
            "numberOfSubtasks" = ${NumberOfSubtasks}
            "numberOfEntitiesAffected" = ${NumberOfEntitiesAffected}
            "resourceLinks" = ${ResourceLinks}
            "appName" = ${AppName}
        }

        return $PSO
    }

}

